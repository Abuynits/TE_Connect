schema: '2.0'
stages:
  data_prep:
    cmd: python3 src/data_prep.py
    deps:
    - path: data/te_ai_cup_sales_forecasting_data.csv
      md5: 6fb382498b126fc3e903d56da73768c8
      size: 46029876
    - path: src/data_constants.py
      md5: 1bc6dad04bf13db063ed62770dbf50fb
      size: 1280
    - path: src/data_prep.py
      md5: 60f694f0a440a3c93a3d50d376fa1fb0
      size: 1790
    - path: src/data_processing.py
      md5: d93b8b1660be2d1d15bba37edffdc78c
      size: 11793
    - path: src/filepaths_constants.py
      md5: bad1df26a5d23b0bfb8595a62ff38746
      size: 4210
    - path: src/saving_reading_data.py
      md5: d25a73b8cbf2205527002650bd590b1b
      size: 3928
    - path: src/visualization.py
      md5: 585588450f679fa50e49986020c74370
      size: 7849
    outs:
    - path: data/dicts/test_dict.pkl
      md5: 51b2a9b530e9c755a44f9bfd7670be35
      size: 5791665
    - path: data/dicts/train_dict.pkl
      md5: 4edbfe541a12b5a9ae54a1a0145d8339
      size: 42204655
    - path: data/dicts/validation_dict.pkl
      md5: 9985334c72bdd5b53b34d3f166e59cf5
      size: 11792160
    - path: data/model_io/test_target.pkl
      md5: e86d75535b289f486c2a2248c40dfef0
      size: 1735364
    - path: data/model_io/test_x.pkl
      md5: 6f0e5aaa966641e12f11b7ec7f57f8d6
      size: 3470564
    - path: data/model_io/test_y.pkl
      md5: f310c77ce929d4359772b1b92a994297
      size: 578564
    - path: data/model_io/train_target.pkl
      md5: 53f619783457f06f75a1dbfa809cfb63
      size: 12658964
    - path: data/model_io/train_x.pkl
      md5: d395a690d7cecb49b12f0365489d2f8e
      size: 25317764
    - path: data/model_io/train_y.pkl
      md5: 5fba31b4e3ab9f8e08e8009291c40303
      size: 4219764
    - path: data/model_io/validation_target.pkl
      md5: 45e2106c229ebaeb1a9d3a90671dd161
      size: 3535364
    - path: data/model_io/validation_x.pkl
      md5: 66802e2c8b014dcd4716afff047ed1c1
      size: 7070564
    - path: data/model_io/validation_y.pkl
      md5: 5e721a5a92758c6e250113875116be41
      size: 1178564
    - path: data/transformations/input_transformations.pkl
      md5: 2e1303d54fbfc9b4f9a9c8c3fc521b63
      size: 20804
    - path: data/transformations/output_transformations.pkl
      md5: 2238fec4c3893c242e74c58c70fc72c9
      size: 16023
    - path: metrics/data_param.json
      md5: 6a07b44fa99ad39c166ec0e8b8cd35ed
      size: 371
  train_model:
    cmd: python3 src/train.py
    deps:
    - path: data/dicts/train_dict.pkl
      md5: 4edbfe541a12b5a9ae54a1a0145d8339
      size: 42204655
    - path: data/dicts/validation_dict.pkl
      md5: 9985334c72bdd5b53b34d3f166e59cf5
      size: 11792160
    - path: data/model_io/train_target.pkl
      md5: 53f619783457f06f75a1dbfa809cfb63
      size: 12658964
    - path: data/model_io/train_x.pkl
      md5: d395a690d7cecb49b12f0365489d2f8e
      size: 25317764
    - path: data/model_io/train_y.pkl
      md5: 5fba31b4e3ab9f8e08e8009291c40303
      size: 4219764
    - path: data/model_io/validation_target.pkl
      md5: 45e2106c229ebaeb1a9d3a90671dd161
      size: 3535364
    - path: data/model_io/validation_x.pkl
      md5: 66802e2c8b014dcd4716afff047ed1c1
      size: 7070564
    - path: data/model_io/validation_y.pkl
      md5: 5e721a5a92758c6e250113875116be41
      size: 1178564
    - path: data/regular_data.pkl
      md5: 55d55d88054edb1004dcc0b92f8b43f2
      size: 2021198
    - path: data/transformed_data.pkl
      md5: f07671d84d0cb7354ce79bbf699e7a5f
      size: 1841972
    - path: src/data_constants.py
      md5: 1bc6dad04bf13db063ed62770dbf50fb
      size: 1280
    - path: src/data_processing.py
      md5: d93b8b1660be2d1d15bba37edffdc78c
      size: 11793
    - path: src/dl_ds.py
      md5: e503e3ed05e5cec789385c26c60da92f
      size: 1869
    - path: src/filepaths_constants.py
      md5: bad1df26a5d23b0bfb8595a62ff38746
      size: 4210
    - path: src/lstm_arch.py
      md5: 0d58e173347fbf0f63731542ad327894
      size: 1618
    - path: src/model_constants.py
      md5: 69854687bb4e05d750318f47c900a67b
      size: 2575
    - path: src/saving_reading_data.py
      md5: d25a73b8cbf2205527002650bd590b1b
      size: 3928
    - path: src/seq2seq_arch.py
      md5: 30600783f7f7660c48778d92cd42d44a
      size: 7226
    - path: src/train.py
      md5: c5d8be1da3ace94714821bf80c7862a4
      size: 8841
    - path: src/visualization.py
      md5: 585588450f679fa50e49986020c74370
      size: 7849
    outs:
    - path: data/model/model.pkl
      md5: cf79b053eb7ea0d3868cffba2e0e8790
      size: 128157
    - path: metrics/model_param.json
      md5: b48e2bba2256a59414837fa3623dc836
      size: 381
    - path: metrics/train_metric.json
      md5: 2b5657f9ae96a8902b78a180142a59b7
      size: 206
  eval_model:
    cmd: python3 src/eval_model.py
    deps:
    - path: data/dicts/test_dict.pkl
      md5: 51b2a9b530e9c755a44f9bfd7670be35
      size: 5791665
    - path: data/model/model.pkl
      md5: cf79b053eb7ea0d3868cffba2e0e8790
      size: 128157
    - path: data/model_io/test_target.pkl
      md5: e86d75535b289f486c2a2248c40dfef0
      size: 1735364
    - path: data/model_io/test_x.pkl
      md5: 6f0e5aaa966641e12f11b7ec7f57f8d6
      size: 3470564
    - path: data/model_io/test_y.pkl
      md5: f310c77ce929d4359772b1b92a994297
      size: 578564
    - path: data/regular_data.pkl
      md5: 55d55d88054edb1004dcc0b92f8b43f2
      size: 2021198
    - path: data/transformed_data.pkl
      md5: f07671d84d0cb7354ce79bbf699e7a5f
      size: 1841972
    - path: src/data_constants.py
      md5: 1bc6dad04bf13db063ed62770dbf50fb
      size: 1280
    - path: src/data_processing.py
      md5: d93b8b1660be2d1d15bba37edffdc78c
      size: 11793
    - path: src/dl_ds.py
      md5: e503e3ed05e5cec789385c26c60da92f
      size: 1869
    - path: src/filepaths_constants.py
      md5: bad1df26a5d23b0bfb8595a62ff38746
      size: 4210
    - path: src/model_constants.py
      md5: 69854687bb4e05d750318f47c900a67b
      size: 2575
    - path: src/saving_reading_data.py
      md5: d25a73b8cbf2205527002650bd590b1b
      size: 3928
    - path: src/train.py
      md5: c5d8be1da3ace94714821bf80c7862a4
      size: 8841
    - path: src/visualization.py
      md5: 585588450f679fa50e49986020c74370
      size: 7849
    outs:
    - path: data/eval_plots/
      md5: 2d0ba3a55f0d980176d27f61c9dfc37e.dir
      size: 67802
      nfiles: 1
  data_generation:
    cmd: python3 src/generate_all_data.py
    deps:
    - path: src/data_processing.py
      md5: d93b8b1660be2d1d15bba37edffdc78c
      size: 11793
    - path: src/saving_reading_data.py
      md5: d25a73b8cbf2205527002650bd590b1b
      size: 3928
    - path: src/visualization.py
      md5: 585588450f679fa50e49986020c74370
      size: 7849
    outs:
    - path: data/regular_data.pkl
      md5: 55d55d88054edb1004dcc0b92f8b43f2
      size: 2021198
    - path: data/transformed_data.pkl
      md5: f07671d84d0cb7354ce79bbf699e7a5f
      size: 1841972
